import{j as e,B as i,b as A,P as k,i as W,d,A as z,e as u,I,f as R,V as B,g as E,k as L,h as U}from"./mui-DNi-HeoK.js";import{r as a,u as V,L as D}from"./vendor-Bxer93pC.js";import{u as F}from"./index-B0QtueXg.js";const H=()=>{const[c,p]=a.useState(""),[g,b]=a.useState(""),[s,v]=a.useState(""),[m,j]=a.useState(""),[l,y]=a.useState(!1),[x,n]=a.useState(""),[h,f]=a.useState(!1),{register:S}=F(),w=V(),o=(t=>{if(!t)return 0;let r=0;return t.length>=6&&(r+=25),t.length>=10&&(r+=25),/[a-z]/.test(t)&&/[A-Z]/.test(t)&&(r+=25),/\d/.test(t)&&(r+=15),/[^a-zA-Z\d]/.test(t)&&(r+=10),Math.min(r,100)})(s),P=()=>o<40?"error":o<70?"warning":"success",C=async t=>{if(t.preventDefault(),n(""),!c||!g||!s||!m){n("Please fill in all fields");return}if(s.length<6){n("Password must be at least 6 characters");return}if(s!==m){n("Passwords do not match");return}f(!0);try{await S(c,g,s),w("/dashboard")}catch(r){n(r.response?.data?.error||"Registration failed")}finally{f(!1)}};return e.jsx(i,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",px:{xs:2,sm:0},py:{xs:2,sm:4}},children:e.jsx(A,{maxWidth:"sm",children:e.jsxs(k,{elevation:10,sx:{p:{xs:3,sm:4},borderRadius:3,backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.95)"},children:[e.jsxs(i,{sx:{textAlign:"center",mb:{xs:2,sm:3}},children:[e.jsx(i,{sx:{display:"inline-flex",p:{xs:1.5,sm:2},borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",mb:2},children:e.jsx(W,{sx:{fontSize:{xs:32,sm:40},color:"white"}})}),e.jsx(d,{variant:"h4",fontWeight:700,gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Create Account"}),e.jsx(d,{variant:"body2",color:"text.secondary",children:"Join our secure file server platform"})]}),x&&e.jsx(z,{severity:"error",sx:{mb:2},children:x}),e.jsxs("form",{onSubmit:C,children:[e.jsx(u,{fullWidth:!0,label:"Username",value:c,onChange:t=>p(t.target.value),margin:"normal",variant:"outlined",autoComplete:"username"}),e.jsx(u,{fullWidth:!0,label:"Email Address",type:"email",value:g,onChange:t=>b(t.target.value),margin:"normal",variant:"outlined",autoComplete:"email"}),e.jsx(u,{fullWidth:!0,label:"Password",type:l?"text":"password",value:s,onChange:t=>v(t.target.value),margin:"normal",variant:"outlined",autoComplete:"new-password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(R,{onClick:()=>y(!l),edge:"end",children:l?e.jsx(B,{}):e.jsx(E,{})})})}}),s&&e.jsxs(i,{sx:{mt:1},children:[e.jsx(L,{variant:"determinate",value:o,color:P(),sx:{height:6,borderRadius:3}}),e.jsxs(d,{variant:"caption",color:"text.secondary",children:["Password strength: ",o<40?"Weak":o<70?"Medium":"Strong"]})]}),e.jsx(u,{fullWidth:!0,label:"Confirm Password",type:l?"text":"password",value:m,onChange:t=>j(t.target.value),margin:"normal",variant:"outlined",autoComplete:"new-password"}),e.jsx(U,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:h,sx:{mt:3,mb:2,py:1.5,fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%)",transform:"translateY(-2px)",boxShadow:6},transition:"all 0.3s ease"},children:h?"Creating Account...":"Sign Up"}),e.jsx(i,{sx:{textAlign:"center"},children:e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",e.jsx(D,{to:"/login",style:{color:"#667eea",textDecoration:"none",fontWeight:600},children:"Sign In"})]})})]})]})})})};export{H as default};
